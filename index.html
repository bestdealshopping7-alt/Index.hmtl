<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel - BestDeal</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 0;
    }
    header {
      background: #e63946;
      color: white;
      text-align: center;
      padding: 15px 0;
      font-size: 1.5rem;
      font-weight: 600;
    }
    .container {
      max-width: 700px;
      background: white;
      margin: 30px auto;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    input, textarea {
      width: 100%;
      padding: 10px;
      margin-top: 6px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 1rem;
    }
    button {
      margin-top: 10px;
      background: #e63946;
      color: white;
      border: none;
      padding: 10px 18px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
    }
    button:hover {
      background: #d62828;
    }
    .product-list {
      margin-top: 30px;
    }
    .product-card {
      background: #fff3f3;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 15px;
    }
    #loginBox {
      text-align: center;
      margin-top: 100px;
    }
  </style>
</head>
<body>

  <header>Admin Panel - BestDeal</header>

  <!-- ðŸ” Login Screen -->
  <div id="loginBox" class="container">
    <h2>Admin Login</h2>
    <input type="password" id="adminPass" placeholder="Enter Admin Password">
    <button onclick="login()">Login</button>
  </div>

  <!-- ðŸ› ï¸ Admin Dashboard -->
  <div id="adminPanel" class="container" style="display:none;">
    <h2>Add New Product</h2>
    <label>Product Name:</label>
    <input type="text" id="name" placeholder="e.g. iPhone 15">

    <label>Product Image URL:</label>
    <input type="text" id="image" placeholder="Paste image link here">

    <label>Affiliate Link:</label>
    <input type="text" id="link" placeholder="Amazon or Flipkart link">

    <label>Description:</label>
    <textarea id="desc" rows="3" placeholder="Write short product info"></textarea>

    <button onclick="addProduct()">Add Product</button>
    <button onclick="importData()">Import</button>
    <button onclick="exportData()">Export</button>
    <button onclick="logout()">Logout</button>

    <div class="product-list" id="productList">
      <h3>Saved Products</h3>
    </div>
  </div>

  <script>
    // ðŸ§© Set your admin password here
    const ADMIN_PASSWORD = "shoeb123"; // change this password

    // âœ… Login Function
    function login() {
      const pass = document.getElementById("adminPass").value;
      if (pass === ADMIN_PASSWORD) {
        document.getElementById("loginBox").style.display = "none";
        document.getElementById("adminPanel").style.display = "block";
        loadProducts();
      } else {
        alert("Incorrect password!");
      }
    }

    function logout() {
      document.getElementById("adminPanel").style.display = "none";
      document.getElementById("loginBox").style.display = "block";
    }

    // âž• Add Product
    function addProduct() {
      let name = document.getElementById('name').value.trim();
      let image = document.getElementById('image').value.trim();
      let link = document.getElementById('link').value.trim();
      let desc = document.getElementById('desc').value.trim();

      if (!name || !image || !link) {
        alert('Please fill all fields!');
        return;
      }

      let products = JSON.parse(localStorage.getItem('products')) || [];
      products.push({ name, image, link, desc });
      localStorage.setItem('products', JSON.stringify(products));

      showProducts();
      clearForm();
    }

    // ðŸ§¹ Clear input fields
    function clearForm() {
      document.getElementById('name').value = '';
      document.getElementById('image').value = '';
      document.getElementById('link').value = '';
      document.getElementById('desc').value = '';
    }

    // ðŸ“¦ Display saved products
    function showProducts() {
      const list = document.getElementById('productList');
      const products = JSON.parse(localStorage.getItem('products')) || [];
      list.innerHTML = '<h3>Saved Products</h3>';
      products.forEach(p => {
        list.innerHTML += `
          <div class="product-card">
            <h4>${p.name}</h4>
            <img src="${p.image}" width="100%" alt="${p.name}">
            <p>${p.desc}</p>
            <a href="${p.link}" target="_blank">Affiliate Link</a>
          </div>`;
      });
    }

    // ðŸ“¥ Import Products
    function importData() {
      const fileInput = document.createElement('input');
      fileInput.type = 'file';
      fileInput.accept = '.json';
      fileInput.onchange = e => {
        const file = e.target.files[0];
        const reader = new FileReader();
        reader.onload = event => {
          localStorage.setItem('products', event.target.result);
          showProducts();
          alert("Import successful!");
        };
        reader.readAsText(file);
      };
      fileInput.click();
    }

    // ðŸ“¤ Export Products
    function exportData() {
      const data = localStorage.getItem('products') || "[]";
      const blob = new Blob([data], { type: "application/json" });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = "products.json";
      link.click();
    }

    function loadProducts() {
      showProducts();
    }
  </script>
</body>
</html>